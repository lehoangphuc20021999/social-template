!function(){var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.display=function(){$(document).ready((function(){$("body").hasClass("personal-page")&&($("#main-sidebar").addClass("open"),$("#main-sidebar-mobile").addClass("open")),($("body").hasClass("login-page")||$("body").hasClass("register-page"))&&($("header, #main-sidebar, #main-sidebar-mobile").css({display:"none",transition:"none"}),$(".main").addClass("normalMP")),$(".dropdown").click((function(e){e.preventDefault(),$(this).find("ul").slideToggle(),$(this).find(".icon-arrow").toggleClass("rotate")})),$(".dropdown > ul").click((function(e){e.stopPropagation()})),$("#textarea-activity").click((function(){$("#textarea-activity, .upload-filelist, .form-bottom").addClass("open"),$('input[type="reset"]').css({display:"inline-block"}),$(this).parent().css({"margin-bottom":"0"})})),$("#btn-cancel").click((function(){$("#textarea-activity, .upload-filelist, .form-bottom").removeClass("open"),$(".activity-form .form-group").css({"margin-bottom":"1rem"}),$("#textarea-activity").css({height:"45px"}),$(this).css({display:"none"})})),$("#datetimepicker").datetimepicker({format:"d.m.Y H:i",inline:!0,lang:"vi",timepicker:!1,theme:"light",maxDate:0});var e=document.querySelector("#files");e?e.addEventListener("change",(function(){var e=document.querySelector(".file-thumb").getElementsByClassName("row")[0];"none"==$(".upload-file").css("display")&&$(".upload-file").css("display","block"),this.files&&[].forEach.call(this.files,(function(t){if(!/\.(jpe?g|png|gif)$/i.test(t.name))return alert(t.name+" is not an image");var i=new FileReader;i.addEventListener("load",(function(){var i=new Image;i.height=100,i.title=t.name,i.src=this.result;var o=document.createElement("div");o.classList.add("inner-image"),o.innerHTML="<img height='"+i.height+"' title='"+i.title+"' src='"+i.src+"'>",e.appendChild(o)})),i.readAsDataURL(t)}))})):e=null,GLightbox({selector:".image-lightbox",openEffect:"zoom",closeEffect:"fade"});var t=$(".isotope-container").isotope({itemSelector:".isotope-item"});$("#navigation-menu").click((function(){$("#main-sidebar").hasClass("open")?($("header, main").addClass("closeDiv"),$("#main-sidebar, body").removeClass("open"),$("#main-sidebar-mobile").addClass("open")):($(".overlay, body, #main-sidebar").addClass("open"),$("#main-sidebar-mobile").removeClass("open"),$("header, main").removeClass("closeDiv")),setTimeout((function(){t.isotope()}),500)})),$(window).resize((function(){setTimeout((function(){t.isotope()}),500)})),$(window).width()<992&&$("#main-sidebar").removeClass("open"),$(window).resize((function(){$(window).width()>=992?($("#main-sidebar").addClass("open"),$("header, main").removeClass("closeDiv")):$("#main-sidebar, .overlay, body").removeClass("open")})),$("#hide-sidebar-mobile").click((function(){$("#main-sidebar").hasClass("open")?$("#main-sidebar, .overlay, body").removeClass("open"):$("#main-sidebar").addClass("open")})),$(".overlay").click((function(){$("#main-sidebar").hasClass("open")&&$("#main-sidebar, .overlay, body").removeClass("open")})),$(".dots").click((function(){$(this).next("ul").hasClass("open")?($(this).next("ul").removeClass("open"),$(this).removeClass("toggle-bg-color")):($(this).next("ul").addClass("open"),$(this).addClass("toggle-bg-color"))})),$(document).on("click",(function(e){var t=$(".dots-icon");(!t.is(e.target)&&0===t.has(e.target).length||$(e.target).hasClass("dots"))&&($(".dots-icon > .actions").removeClass("open"),$(".dots-icon > .dots").removeClass("toggle-bg-color"))})),$(".btn-comment-post, .total-comment").click((function(e){e.preventDefault(),$(this).closest(".comment-area").find(".btn-wrapper, .comments, > .your-reply").toggleClass("hideDiv")})),$(".your-reply textarea").click((function(){$(this).keyup((function(e){$(this).val().trim().length>0?("Enter"!==e.key&&13!==e.keyCode||$(this).closest("form").submit(),$(this).next('button[type="submit"]').css("display","block")):$(this).next('button[type="submit"]').css("display","none")}))})),$(".btn-reply").click((function(){$(this).closest(".acomment").find("> .d-flex > .your-reply.sub").toggleClass("closeDiv")})),$("textarea").each((function(){this.setAttribute("style","overflow-y:hidden; height: 45px;")})).on("input",(function(){this.style.height="auto",this.style.height=this.scrollHeight-17+"px"})),$(".activity-form .file-action").click((function(){$(this).closest(".upload-file").css({display:"none"}),$(this).prev().find(".inner-image").empty()}))}))};var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.loadComments=function(){};var i={};Object.defineProperty(i,"__esModule",{value:!0}),i.addCommentForm=function(){};var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.loadPosts=function(){},(0,e.display)(),(0,t.loadComments)(),(0,i.addCommentForm)(),(0,o.loadPosts)()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlc1xcYnJvd3Nlci1wYWNrLWZsYXRcXF9wcmVsdWRlIiwicHVibGljL2pzL2luZGV4L2Rpc3BsYXkuanMiLCJwdWJsaWMvanMvaW5kZXgvbG9hZENvbW1lbnRzLmpzIiwicHVibGljL2pzL2luZGV4L2FkZENvbW1lbnRGb3JtLmpzIiwicHVibGljL2pzL2luZGV4L2xvYWRQb3N0cy5qcyIsInB1YmxpYy9qcy9zY3JpcHQuanMiXSwibmFtZXMiOlsiXyRkaXNwbGF5XzIiLCIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImhhc0NsYXNzIiwiYWRkQ2xhc3MiLCJjc3MiLCJkaXNwbGF5IiwidHJhbnNpdGlvbiIsImNsaWNrIiwiZSIsInByZXZlbnREZWZhdWx0IiwidGhpcyIsImZpbmQiLCJzbGlkZVRvZ2dsZSIsInRvZ2dsZUNsYXNzIiwic3RvcFByb3BhZ2F0aW9uIiwicGFyZW50IiwibWFyZ2luLWJvdHRvbSIsInJlbW92ZUNsYXNzIiwiaGVpZ2h0IiwiZGF0ZXRpbWVwaWNrZXIiLCJmb3JtYXQiLCJpbmxpbmUiLCJsYW5nIiwidGltZXBpY2tlciIsInRoZW1lIiwibWF4RGF0ZSIsInByZXZpZXciLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJmaWxlcyIsImZvckVhY2giLCJjYWxsIiwiZmlsZSIsInRlc3QiLCJuYW1lIiwiYWxlcnQiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwiaW1hZ2UiLCJJbWFnZSIsInRpdGxlIiwic3JjIiwicmVzdWx0IiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwicmVhZEFzRGF0YVVSTCIsIkdMaWdodGJveCIsInNlbGVjdG9yIiwib3BlbkVmZmVjdCIsImNsb3NlRWZmZWN0IiwiaXNvdG9wZSIsIml0ZW1TZWxlY3RvciIsInNldFRpbWVvdXQiLCJ3aW5kb3ciLCJyZXNpemUiLCJ3aWR0aCIsIm5leHQiLCJvbiIsImNvbnRhaW5lciIsImlzIiwidGFyZ2V0IiwiaGFzIiwibGVuZ3RoIiwiY2xvc2VzdCIsImtleXVwIiwidmFsIiwidHJpbSIsImtleSIsImtleUNvZGUiLCJzdWJtaXQiLCJlYWNoIiwic2V0QXR0cmlidXRlIiwic3R5bGUiLCJzY3JvbGxIZWlnaHQiLCJwcmV2IiwiZW1wdHkiLCJfJGxvYWRDb21tZW50c18zIiwibG9hZENvbW1lbnRzIiwiXyRhZGRDb21tZW50Rm9ybV8xIiwiYWRkQ29tbWVudEZvcm0iLCJfJGxvYWRQb3N0c180IiwibG9hZFBvc3RzIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLElBQUFBLEVBQUEsOERDREEsV0FFRUMsRUFBRUMsVUFBVUMsT0FBTSxXQUdaRixFQUFFLFFBQVFHLFNBQVMsbUJBQ3JCSCxFQUFFLGlCQUFpQkksU0FBUyxRQUM1QkosRUFBRSx3QkFBd0JJLFNBQVMsVUFJakNKLEVBQUUsUUFBUUcsU0FBUyxlQUFpQkgsRUFBRSxRQUFRRyxTQUFTLG9CQUN6REgsRUFBRSwrQ0FBK0NLLElBQUksQ0FBRUMsUUFBVyxPQUFRQyxXQUFjLFNBQ3hGUCxFQUFFLFNBQVNJLFNBQVMsYUFJdEJKLEVBQUUsYUFBYVEsT0FBTSxTQUFVQyxHQUM3QkEsRUFBRUMsaUJBQ0ZWLEVBQUVXLE1BQU1DLEtBQUssTUFBTUMsY0FDbkJiLEVBQUVXLE1BQU1DLEtBQUssZUFBZUUsWUFBWSxhQUcxQ2QsRUFBRSxrQkFBa0JRLE9BQU0sU0FBVUMsR0FDbENBLEVBQUVNLHFCQUlKZixFQUFFLHNCQUFzQlEsT0FBTSxXQUM1QlIsRUFBRSxzREFBc0RJLFNBQVMsUUFDakVKLEVBQUUsdUJBQXVCSyxJQUFJLENBQUVDLFFBQVcsaUJBQzFDTixFQUFFVyxNQUFNSyxTQUFTWCxJQUFJLENBQUVZLGdCQUFpQixTQUcxQ2pCLEVBQUUsZUFBZVEsT0FBTSxXQUNyQlIsRUFBRSxzREFBc0RrQixZQUFZLFFBQ3BFbEIsRUFBRSw4QkFBOEJLLElBQUksQ0FBRVksZ0JBQWlC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YUxSQSIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe1xuIiwiZnVuY3Rpb24gZGlzcGxheSgpIHtcclxuXHJcbiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIC8vLSBESVNQTEFZIE5PTkUgQUxMIFNFQ1RJT04gV0hFTiBJTiBQRVJTT05BTCBQQUdFXHJcbiAgICBpZiAoJCgnYm9keScpLmhhc0NsYXNzKCdwZXJzb25hbC1wYWdlJykpIHtcclxuICAgICAgJCgnI21haW4tc2lkZWJhcicpLmFkZENsYXNzKCdvcGVuJylcclxuICAgICAgJCgnI21haW4tc2lkZWJhci1tb2JpbGUnKS5hZGRDbGFzcygnb3BlbicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vLSBESVNQTEFZIE5PTkUgQUxMIFNFQ1RJT04gV0hFTiBJTiBMT0dJTiwgUkVHSVNURVIgUEdFXHJcbiAgICBpZiAoJCgnYm9keScpLmhhc0NsYXNzKCdsb2dpbi1wYWdlJykgfHwgJCgnYm9keScpLmhhc0NsYXNzKCdyZWdpc3Rlci1wYWdlJykpIHtcclxuICAgICAgJCgnaGVhZGVyLCAjbWFpbi1zaWRlYmFyLCAjbWFpbi1zaWRlYmFyLW1vYmlsZScpLmNzcyh7IFwiZGlzcGxheVwiOiBcIm5vbmVcIiwgXCJ0cmFuc2l0aW9uXCI6IFwibm9uZVwiIH0pO1xyXG4gICAgICAkKCcubWFpbicpLmFkZENsYXNzKCdub3JtYWxNUCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vLSBEUk9QRE9XTlxyXG4gICAgJCgnLmRyb3Bkb3duJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAkKHRoaXMpLmZpbmQoJ3VsJykuc2xpZGVUb2dnbGUoKTtcclxuICAgICAgJCh0aGlzKS5maW5kKCcuaWNvbi1hcnJvdycpLnRvZ2dsZUNsYXNzKCdyb3RhdGUnKTtcclxuICAgIH0pXHJcblxyXG4gICAgJCgnLmRyb3Bkb3duID4gdWwnKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBOb3cgdGhlIGV2ZW50IHdvbid0IGJ1YmJsZSB1cFxyXG4gICAgfSlcclxuXHJcbiAgICAvLy0gVVBMT0FEIFNUQVRVU1xyXG4gICAgJChcIiN0ZXh0YXJlYS1hY3Rpdml0eVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQoJyN0ZXh0YXJlYS1hY3Rpdml0eSwgLnVwbG9hZC1maWxlbGlzdCwgLmZvcm0tYm90dG9tJykuYWRkQ2xhc3MoJ29wZW4nKVxyXG4gICAgICAkKCdpbnB1dFt0eXBlPVwicmVzZXRcIl0nKS5jc3MoeyBcImRpc3BsYXlcIjogXCJpbmxpbmUtYmxvY2tcIiB9KTtcclxuICAgICAgJCh0aGlzKS5wYXJlbnQoKS5jc3MoeyBcIm1hcmdpbi1ib3R0b21cIjogXCIwXCIgfSk7XHJcbiAgICB9KVxyXG5cclxuICAgICQoJyNidG4tY2FuY2VsJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAkKCcjdGV4dGFyZWEtYWN0aXZpdHksIC51cGxvYWQtZmlsZWxpc3QsIC5mb3JtLWJvdHRvbScpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgICQoJy5hY3Rpdml0eS1mb3JtIC5mb3JtLWdyb3VwJykuY3NzKHsgXCJtYXJnaW4tYm90dG9tXCI6IFwiMXJlbVwiIH0pO1xyXG4gICAgICAkKCcjdGV4dGFyZWEtYWN0aXZpdHknKS5jc3MoeyBcImhlaWdodFwiOiBcIjQ1cHhcIiB9KTtcclxuICAgICAgJCh0aGlzKS5jc3MoeyBcImRpc3BsYXlcIjogXCJub25lXCIgfSk7XHJcbiAgICB9KVxyXG5cclxuICAgIC8vLSBEQVRFVElNRVBJQ0tFUlxyXG4gICAgJCgnI2RhdGV0aW1lcGlja2VyJykuZGF0ZXRpbWVwaWNrZXIoe1xyXG4gICAgICBmb3JtYXQ6ICdkLm0uWSBIOmknLFxyXG4gICAgICBpbmxpbmU6IHRydWUsXHJcbiAgICAgIGxhbmc6ICd2aScsXHJcbiAgICAgIHRpbWVwaWNrZXI6IGZhbHNlLFxyXG4gICAgICB0aGVtZTogJ2xpZ2h0JyxcclxuICAgICAgbWF4RGF0ZTogMCxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vLSBQUkVWSUVXIE1VTFRJUExFIElNQUdFU1xyXG4gICAgZnVuY3Rpb24gcHJldmlld0ltYWdlcygpIHtcclxuICAgICAgbGV0IHByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsZS10aHVtYicpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJyb3dcIilbMF07XHJcblxyXG4gICAgICBpZiAoJCgnLnVwbG9hZC1maWxlJykuY3NzKCdkaXNwbGF5JykgPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgJCgnLnVwbG9hZC1maWxlJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJylcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMuZmlsZXMpIHtcclxuICAgICAgICBbXS5mb3JFYWNoLmNhbGwodGhpcy5maWxlcywgcmVhZEFuZFByZXZpZXcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiByZWFkQW5kUHJldmlldyhmaWxlKSB7XHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIGBmaWxlLm5hbWVgIG1hdGNoZXMgb3VyIGV4dGVuc2lvbnMgY3JpdGVyaWFcclxuICAgICAgICBpZiAoIS9cXC4oanBlP2d8cG5nfGdpZikkL2kudGVzdChmaWxlLm5hbWUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gYWxlcnQoZmlsZS5uYW1lICsgXCIgaXMgbm90IGFuIGltYWdlXCIpO1xyXG4gICAgICAgIH0gLy8gZWxzZS4uLlxyXG5cclxuICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuXHJcbiAgICAgICAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGxldCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgaW1hZ2UuaGVpZ2h0ID0gMTAwO1xyXG4gICAgICAgICAgaW1hZ2UudGl0bGUgPSBmaWxlLm5hbWU7XHJcbiAgICAgICAgICBpbWFnZS5zcmMgPSB0aGlzLnJlc3VsdDtcclxuXHJcbiAgICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgnaW5uZXItaW1hZ2UnKVxyXG4gICAgICAgICAgZGl2LmlubmVySFRNTCA9IFwiPGltZyBoZWlnaHQ9J1wiICsgaW1hZ2UuaGVpZ2h0ICsgXCInIHRpdGxlPSdcIiArIGltYWdlLnRpdGxlICsgXCInIHNyYz0nXCIgKyBpbWFnZS5zcmMgKyBcIic+XCJcclxuXHJcbiAgICAgICAgICBwcmV2aWV3LmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG5cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgbGV0IHByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsZXMnKTtcclxuICAgIGlmIChwcmV2aWV3KSB7XHJcbiAgICAgIHByZXZpZXcuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBwcmV2aWV3SW1hZ2VzKVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHByZXZpZXcgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhdGUgbGlnaHRib3ggXHJcbiAgICAgKi9cclxuICAgIGNvbnN0IGltYWdlTGlnaHRib3ggPSBHTGlnaHRib3goe1xyXG4gICAgICBzZWxlY3RvcjogJy5pbWFnZS1saWdodGJveCcsXHJcbiAgICAgIG9wZW5FZmZlY3Q6ICd6b29tJyxcclxuICAgICAgY2xvc2VFZmZlY3Q6ICdmYWRlJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWF0ZSBpc290b3BlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0IGlzb3RvcGUgPSAkKCcuaXNvdG9wZS1jb250YWluZXInKS5pc290b3BlKHtcclxuICAgICAgaXRlbVNlbGVjdG9yOiAnLmlzb3RvcGUtaXRlbScsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLy0gQ0hBTkdFIE5BVklHQVRJT04tU0lERUJBUlxyXG4gICAgJCgnI25hdmlnYXRpb24tbWVudScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKCQoJyNtYWluLXNpZGViYXInKS5oYXNDbGFzcygnb3BlbicpKSB7XHJcbiAgICAgICAgJCgnaGVhZGVyLCBtYWluJykuYWRkQ2xhc3MoJ2Nsb3NlRGl2Jyk7XHJcbiAgICAgICAgJCgnI21haW4tc2lkZWJhciwgYm9keScpLnJlbW92ZUNsYXNzKCdvcGVuJylcclxuICAgICAgICAkKCcjbWFpbi1zaWRlYmFyLW1vYmlsZScpLmFkZENsYXNzKCdvcGVuJyk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgJCgnLm92ZXJsYXksIGJvZHksICNtYWluLXNpZGViYXInKS5hZGRDbGFzcygnb3BlbicpO1xyXG4gICAgICAgICQoJyNtYWluLXNpZGViYXItbW9iaWxlJykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICAkKCdoZWFkZXIsIG1haW4nKS5yZW1vdmVDbGFzcygnY2xvc2VEaXYnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTmVlZCB0aW1lIHRvIHJlYWN0aXZlIGlzb3RvcGVcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaXNvdG9wZS5pc290b3BlKClcclxuICAgICAgfSwgNTAwKTtcclxuICAgIH0pXHJcblxyXG4gICAgLy8gRXZlcnkgdGltZSB3ZSByZXNpemUgYnJvd3NlciwgaXQgd2lsbCByZWFjdGl2ZSB0byBhcnJhbmdlIGltYWdlIGluIHBvc3RcclxuICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpc290b3BlLmlzb3RvcGUoKVxyXG4gICAgICB9LCA1MDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8tIEZJWEVEIEJVRyBGT1IgTkFWSUdBVElPTlxyXG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgOTkyKSB7XHJcbiAgICAgICQoJyNtYWluLXNpZGViYXInKS5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG4gICAgfVxyXG5cclxuICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPj0gOTkyKSB7XHJcbiAgICAgICAgJCgnI21haW4tc2lkZWJhcicpLmFkZENsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgJCgnaGVhZGVyLCBtYWluJykucmVtb3ZlQ2xhc3MoJ2Nsb3NlRGl2Jyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCgnI21haW4tc2lkZWJhciwgLm92ZXJsYXksIGJvZHknKS5yZW1vdmVDbGFzcygnb3BlbicpXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoJyNoaWRlLXNpZGViYXItbW9iaWxlJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoJCgnI21haW4tc2lkZWJhcicpLmhhc0NsYXNzKCdvcGVuJykpIHtcclxuICAgICAgICAkKCcjbWFpbi1zaWRlYmFyLCAub3ZlcmxheSwgYm9keScpLnJlbW92ZUNsYXNzKCdvcGVuJylcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkKCcjbWFpbi1zaWRlYmFyJykuYWRkQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLm92ZXJsYXknKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICgkKCcjbWFpbi1zaWRlYmFyJykuaGFzQ2xhc3MoJ29wZW4nKSkge1xyXG4gICAgICAgICQoJyNtYWluLXNpZGViYXIsIC5vdmVybGF5LCBib2R5JykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8tIFRPR0dMRSBET1RTXHJcbiAgICAkKCcuZG90cycpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKCQodGhpcykubmV4dCgndWwnKS5oYXNDbGFzcygnb3BlbicpKSB7XHJcbiAgICAgICAgJCh0aGlzKS5uZXh0KCd1bCcpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygndG9nZ2xlLWJnLWNvbG9yJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCh0aGlzKS5uZXh0KCd1bCcpLmFkZENsYXNzKCdvcGVuJylcclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCd0b2dnbGUtYmctY29sb3InKTtcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICAvLy0gQ0xJQ0sgT1VUU0lERSBBTkQgQ0xPU0UgQUNUSU9OIE1FTlVcclxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgY29uc3QgY29udGFpbmVyID0gJCgnLmRvdHMtaWNvbicpXHJcblxyXG4gICAgICBpZiAoKCFjb250YWluZXIuaXMoZS50YXJnZXQpICYmIGNvbnRhaW5lci5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCkgfHwgJChlLnRhcmdldCkuaGFzQ2xhc3MoJ2RvdHMnKSkge1xyXG4gICAgICAgICQoJy5kb3RzLWljb24gPiAuYWN0aW9ucycpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgJCgnLmRvdHMtaWNvbiA+IC5kb3RzJykucmVtb3ZlQ2xhc3MoJ3RvZ2dsZS1iZy1jb2xvcicpO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vLSBPUEVOIENPTU1FTlQgU0VDVElPTlxyXG4gICAgJCgnLmJ0bi1jb21tZW50LXBvc3QsIC50b3RhbC1jb21tZW50JykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5jb21tZW50LWFyZWEnKS5maW5kKCcuYnRuLXdyYXBwZXIsIC5jb21tZW50cywgPiAueW91ci1yZXBseScpLnRvZ2dsZUNsYXNzKCdoaWRlRGl2Jyk7XHJcbiAgICB9KVxyXG5cclxuICAgIC8vLSBSRVBMWSBDT01NRU5UU1xyXG4gICAgJCgnLnlvdXItcmVwbHkgdGV4dGFyZWEnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQodGhpcykua2V5dXAoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS52YWwoKS50cmltKCkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KFwiZm9ybVwiKS5zdWJtaXQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICQodGhpcykubmV4dCgnYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICQodGhpcykubmV4dCgnYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSlcclxuXHJcbiAgICAvLy0gQlROIFJFUExZXHJcbiAgICAkKCcuYnRuLXJlcGx5JykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5hY29tbWVudCcpLmZpbmQoJz4gLmQtZmxleCA+IC55b3VyLXJlcGx5LnN1YicpLnRvZ2dsZUNsYXNzKCdjbG9zZURpdicpO1xyXG4gICAgfSlcclxuXHJcbiAgICAvLy0gTUFLRSBURVhUQVJFIE5PVCBPVkVSRkxPVzogQVVUTyBBTkQgRElTQVBQRUFSIFNDUk9MTEJBUlxyXG4gICAgJChcInRleHRhcmVhXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwib3ZlcmZsb3cteTpoaWRkZW47IGhlaWdodDogNDVweDtcIik7XHJcbiAgICB9KS5vbihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgdGhpcy5zdHlsZS5oZWlnaHQgPSBcImF1dG9cIjtcclxuICAgICAgdGhpcy5zdHlsZS5oZWlnaHQgPSAodGhpcy5zY3JvbGxIZWlnaHQgLSAxNykgKyBcInB4XCI7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLy0gRElTUExBWTogTk9ORSBBTkQgREVMRVRFIElNQUdFIFBSRVZJRVdcclxuICAgICQoJy5hY3Rpdml0eS1mb3JtIC5maWxlLWFjdGlvbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgJCh0aGlzKS5jbG9zZXN0KCcudXBsb2FkLWZpbGUnKS5jc3MoeyBcImRpc3BsYXlcIjogXCJub25lXCIgfSk7XHJcbiAgICAgICQodGhpcykucHJldigpLmZpbmQoJy5pbm5lci1pbWFnZScpLmVtcHR5KCk7XHJcbiAgICB9KVxyXG4gIH0pXHJcbn1cclxuXHJcbmV4cG9ydCB7IGRpc3BsYXkgfTsiLCJmdW5jdGlvbiBsb2FkQ29tbWVudHMoKXtcclxuICAgIC8vICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICAgLy8tIEZFVENIIEFMTCBDT01NRU5UU1xyXG4gICAgLy8gICAgIGZldGNoKCcvY29tbWVudHMnLCB7XHJcbiAgICAvLyAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAvLyAgICAgfSlcclxuICAgIC8vICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAvLyAgICAgLnRoZW4oanNvbiA9PiB7XHJcbiAgICAvLyAgICAgICAgIGxldCBjb21tZW50cyA9ICcnXHJcbiAgICAvLyAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwganNvbi5jb21tZW50c0xpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgIC8vICAgICAgICAgICAgIGNvbW1lbnRzICs9IGpzb24uY29tbWVudHNMaXN0W2ldLnVzZXJuYW1lICsgXCI6IFwiICsganNvbi5jb21tZW50c0xpc3RbaV0uY29tbWVudCArIFwiPC9icj5cIlxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICQoJyNkZW1vJykuaHRtbChjb21tZW50cylcclxuICAgIC8vICAgICB9KVxyXG4gICAgLy8gICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgLy8gICAgICAgICBpZihlcnIpe1xyXG4gICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSlcclxuICAgIC8vIH0pXHJcbn1cclxuXHJcbmV4cG9ydCB7bG9hZENvbW1lbnRzfTsiLCIvLyBpbXBvcnQge2xvYWRDb21tZW50c30gZnJvbSAnLi9sb2FkQ29tbWVudHMnXHJcblxyXG5mdW5jdGlvbiBhZGRDb21tZW50Rm9ybSgpe1xyXG4gICAgLy8gJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXsgICBcclxuICAgIC8vICAgICAvLy0gQWRkIGNvbW1lbnQgZm9ybVxyXG4gICAgLy8gICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcG9zdC1jb21tZW50LWZvcm0nKTtcclxuICAgIC8vICAgICBpZihmb3JtKXtcclxuICAgIC8vICAgICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZSkgPT57XHJcbiAgICAvLyAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAvLyAgICAgICAgICAgICBsZXQgdXNlcm5hbWUgPSAkKCcjdXNlcm5hbWUnKS52YWwoKTtcclxuICAgIC8vICAgICAgICAgICAgIGxldCBjb21tZW50ID0gJCgnI2NvbW1lbnRTZWN0aW9uJykudmFsKCk7XHJcblxyXG4gICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2codXNlcm5hbWUsIGNvbW1lbnRTZWN0aW9uKTtcclxuXHJcbiAgICAvLyAgICAgICAgICAgICAvLy0gSU5TRVJUIEEgQ09NTUVOVFxyXG4gICAgLy8gICAgICAgICAgICAgZmV0Y2goJy9jb21tZW50cy9pbnNlcnQnLCB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe3VzZXJuYW1lLCBjb21tZW50fSksXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIH0pXHJcbiAgICAvLyAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAvLyAgICAgICAgICAgICAudGhlbihqc29uID0+IHtcclxuICAgIC8vICAgICAgICAgICAgICAgICBsb2FkQ29tbWVudHMoKTtcclxuICAgIC8vICAgICAgICAgICAgIH0pICBcclxuICAgIC8vICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGlmKGVycil7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICB9KVxyXG4gICAgLy8gICAgICAgICB9KVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0pXHJcbn1cclxuXHJcbmV4cG9ydCB7YWRkQ29tbWVudEZvcm19OyIsImZ1bmN0aW9uIGxvYWRQb3N0cygpe1xyXG4gICAgLy8gZnVuY3Rpb24gbG9hZEFsbFBvc3RzKHN0YXJ0LCBsaW1pdCl7XHJcbiAgICAvLyAgICAgLy8tIEZFVENIIEFMTCBQT1NUU1xyXG4gICAgLy8gICAgIGZldGNoKCcvcG9zdHMnLCB7XHJcbiAgICAvLyAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgLy8gICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7c3RhcnQsIGxpbWl0fSksXHJcbiAgICAvLyAgICAgICAgIGhlYWRlcnM6IHsgXHJcbiAgICAvLyAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgLy8gICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSlcclxuICAgIC8vICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAvLyAgICAgLnRoZW4oanNvbiA9PiB7XHJcbiAgICAvLyAgICAgICAgIGlmKGpzb24ucG9zdHNMaXN0KXtcclxuICAgIC8vICAgICAgICAgICAgIGxldCBwb3N0cyA9ICcnXHJcbiAgICAvLyAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGpzb24ucG9zdHNMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgcG9zdHMgKz0gJzxkaXYgY2xhc3M9XCJpdGVtXCI+JztcclxuICAgIC8vICAgICAgICAgICAgICAgICBwb3N0cyArPSBqc29uLnBvc3RzTGlzdFtpXS5wb3N0X3RpdGxlICsgXCIgXCIgKyBqc29uLnBvc3RzTGlzdFtpXS5wb3N0X2F1dGhvciArIFwiIFwiICsganNvbi5wb3N0c0xpc3RbaV0ucG9zdF9kZXNjcmlwdGlvbiArIFwiPC9icj5cIjtcclxuICAgIC8vICAgICAgICAgICAgICAgICBwb3N0cyArPSAnPC9kaXY+JztcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgLy8gICAgICAgICAgICAgJCgnI3Bvc3QxJykuYXBwZW5kKHBvc3RzKVxyXG4gICAgXHJcbiAgICAvLyAgICAgICAgICAgICBpZihqc29uLnBvc3RzTGlzdCAhPSAnJyl7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgJCgnLmJ0bi1sb2FkLW1vcmUnKS5hZGRDbGFzcygnYnRuLWxvYWRpbmcnKTtcclxuICAgIC8vICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICQoJy5idG4tbG9hZC1tb3JlJykucmVtb3ZlQ2xhc3MoJ2J0bi1sb2FkaW5nJyk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgJCgnLmJ0bi1sb2FkLW1vcmUgLmJ0bi10ZXh0JykudGV4dCgnS2jDtG5nIGPDsm4gdGluIG7DoG8gbeG7m2knKTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuXHJcbiAgICAvLyAgICAgICAgIH1lbHNle1xyXG4gICAgLy8gICAgICAgICAgICAganNvbi5wb3N0c0xpc3QgPSAnJ1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSlcclxuICAgIC8vICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgIC8vICAgICAgICAgaWYoZXJyKXtcclxuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH0pXHJcbiAgICAvLyB9XHJcblxyXG5cclxuICAgIC8vICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICAgaWYoJCgnYm9keScpLmhhc0NsYXNzKCdob21lLXBhZ2UnKSl7XHJcbiAgICAvLyAgICAgICAgIGxldCBzdGFydCA9IDA7XHJcbiAgICAvLyAgICAgICAgIGxldCBsaW1pdCA9IDM7XHJcbiAgICAvLyAgICAgICAgIGxldCBzdG9wID0gZmFsc2U7XHJcbiAgICBcclxuICAgIC8vICAgICAgICAgaWYobG9hZEFsbFBvc3RzKHN0YXJ0LCBsaW1pdCkgPT0gJycpe1xyXG4gICAgLy8gICAgICAgICAgICAgc3RvcCA9IHRydWU7XHJcbiAgICAvLyAgICAgICAgIH1lbHNle1xyXG4gICAgLy8gICAgICAgICAgICAgc3RvcCA9IGZhbHNlXHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIFxyXG4gICAgLy8gICAgICAgICAvLyBjb25zb2xlLmxvZyhcImFhYWFhYVwiLCBzdG9wKTtcclxuICAgIFxyXG4gICAgLy8gICAgICAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICAgICAgICAgICBsZXQgcG9zaXRpb24gPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyAkKHdpbmRvdykuaGVpZ2h0KCkgLSAkKFwiI3Bvc3RzXCIpLm9mZnNldCgpLnRvcDtcclxuICAgIC8vICAgICAgICAgICAgIGxldCBwb3N0MUhlaWdodCA9ICAkKFwiI3Bvc3RzXCIpLmhlaWdodCgpO1xyXG4gICAgXHJcbiAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhwb3NpdGlvbiAsIFwiIFwiLCBwb3N0MUhlaWdodCk7XHJcbiAgICBcclxuICAgIC8vICAgICAgICAgICAgIGlmKHBvc2l0aW9uID49IHBvc3QxSGVpZ2h0ICAmJiBzdG9wID09IGZhbHNlKVxyXG4gICAgLy8gICAgICAgICAgICAge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIC8vIGFjdGlvbiA9ICdhY3RpdmUnO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjYycpXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgc3RhcnQgKz0gbGltaXQ7XHJcbiAgICBcclxuICAgIC8vICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxvYWRBbGxQb3N0cyhzdGFydCwgbGltaXQpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIH0sIDMwMDApO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAvLyAgICAgICAgIH0pO1xyXG4gICAgLy8gICAgICAgICAvLyBjb25zb2xlLmxvZyhhY3Rpb24pO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0pXHJcbn1cclxuXHJcbmV4cG9ydCB7bG9hZFBvc3RzfTsiLCJpbXBvcnQge2Rpc3BsYXl9IGZyb20gJy4vaW5kZXgvZGlzcGxheS5qcyc7XHJcbmltcG9ydCB7bG9hZENvbW1lbnRzfSBmcm9tICcuL2luZGV4L2xvYWRDb21tZW50cy5qcyc7XHJcbmltcG9ydCB7YWRkQ29tbWVudEZvcm19IGZyb20gJy4vaW5kZXgvYWRkQ29tbWVudEZvcm0uanMnO1xyXG5pbXBvcnQge2xvYWRQb3N0c30gZnJvbSAnLi9pbmRleC9sb2FkUG9zdHMuanMnO1xyXG5cclxuZGlzcGxheSgpO1xyXG5sb2FkQ29tbWVudHMoKTtcclxuYWRkQ29tbWVudEZvcm0oKTtcclxubG9hZFBvc3RzKCk7Il19