(function(){
var _$display_2 = {};
"use strict";Object.defineProperty(_$display_2,"__esModule",{value:!0}),_$display_2.display=function(){$(document).ready(function(){$("body").hasClass("personal-page")&&($("#main-sidebar").addClass("open"),$("#main-sidebar-mobile").addClass("open")),($("body").hasClass("login-page")||$("body").hasClass("register-page"))&&($("header, #main-sidebar, #main-sidebar-mobile").css({display:"none",transition:"none"}),$(".main").addClass("normalMP")),$(".dropdown").click(function(e){e.preventDefault(),$(this).find("ul").slideToggle(),$(this).find(".icon-arrow").toggleClass("rotate")}),$(".dropdown > ul").click(function(e){e.stopPropagation()}),$("#textarea-activity").click(function(){$("#textarea-activity, .upload-filelist, .form-bottom").addClass("open"),$('input[type="reset"]').css({display:"inline-block"}),$(this).parent().css({"margin-bottom":"0"})}),$("#btn-cancel").click(function(){$("#textarea-activity, .upload-filelist, .form-bottom").removeClass("open"),$(".activity-form .form-group").css({"margin-bottom":"1rem"}),$("#textarea-activity").css({height:"45px"}),$(this).css({display:"none"})}),$("#datetimepicker").datetimepicker({format:"d.m.Y H:i",inline:!0,lang:"vi",timepicker:!1,theme:"light",maxDate:0});var preview=document.querySelector("#files");preview?preview.addEventListener("change",function(){var preview=document.querySelector(".file-thumb").getElementsByClassName("row")[0];"none"==$(".upload-file").css("display")&&$(".upload-file").css("display","block");this.files&&[].forEach.call(this.files,function(file){if(!/\.(jpe?g|png|gif)$/i.test(file.name))return alert(file.name+" is not an image");var reader=new FileReader;reader.addEventListener("load",function(){var image=new Image;image.height=100,image.title=file.name,image.src=this.result;var div=document.createElement("div");div.classList.add("inner-image"),div.innerHTML="<img height='"+image.height+"' title='"+image.title+"' src='"+image.src+"'>",preview.appendChild(div)}),reader.readAsDataURL(file)})}):preview=null;GLightbox({selector:".image-lightbox",openEffect:"zoom",closeEffect:"fade"});var isotope=$(".isotope-container").isotope({itemSelector:".isotope-item"});$("#navigation-menu").click(function(){$("#main-sidebar").hasClass("open")?($("header, main").addClass("closeDiv"),$("#main-sidebar, body").removeClass("open"),$("#main-sidebar-mobile").addClass("open")):($(".overlay, body, #main-sidebar").addClass("open"),$("#main-sidebar-mobile").removeClass("open"),$("header, main").removeClass("closeDiv")),setTimeout(function(){isotope.isotope()},500)}),$(window).resize(function(){setTimeout(function(){isotope.isotope()},500)}),$(window).width()<992&&$("#main-sidebar").removeClass("open"),$(window).resize(function(){$(window).width()>=992?($("#main-sidebar").addClass("open"),$("header, main").removeClass("closeDiv")):$("#main-sidebar, .overlay, body").removeClass("open")}),$("#hide-sidebar-mobile").click(function(){$("#main-sidebar").hasClass("open")?$("#main-sidebar, .overlay, body").removeClass("open"):$("#main-sidebar").addClass("open")}),$(".overlay").click(function(){$("#main-sidebar").hasClass("open")&&$("#main-sidebar, .overlay, body").removeClass("open")}),$(".dots").click(function(){$(this).next("ul").hasClass("open")?($(this).next("ul").removeClass("open"),$(this).removeClass("toggle-bg-color")):($(this).next("ul").addClass("open"),$(this).addClass("toggle-bg-color"))}),$(document).on("click",function(e){var container=$(".dots-icon");(!container.is(e.target)&&0===container.has(e.target).length||$(e.target).hasClass("dots"))&&($(".dots-icon > .actions").removeClass("open"),$(".dots-icon > .dots").removeClass("toggle-bg-color"))}),$(".btn-comment-post, .total-comment").click(function(e){e.preventDefault(),$(this).closest(".comment-area").find(".btn-wrapper, .comments, > .your-reply").toggleClass("hideDiv")}),$(".your-reply textarea").click(function(){$(this).keyup(function(e){$(this).val().trim().length>0?("Enter"!==e.key&&13!==e.keyCode||$(this).closest("form").submit(),$(this).next('button[type="submit"]').css("display","block")):$(this).next('button[type="submit"]').css("display","none")})}),$(".btn-reply").click(function(){$(this).closest(".acomment").find("> .d-flex > .your-reply.sub").toggleClass("closeDiv")}),$("textarea").each(function(){this.setAttribute("style","overflow-y:hidden; height: 45px;")}).on("input",function(){this.style.height="auto",this.style.height=this.scrollHeight-17+"px"}),$(".activity-form .file-action").click(function(){$(this).closest(".upload-file").css({display:"none"}),$(this).prev().find(".inner-image").empty()})})};

var _$loadComments_3 = {};
"use strict";Object.defineProperty(_$loadComments_3,"__esModule",{value:!0}),_$loadComments_3.loadComments=function(){};

var _$addCommentForm_1 = {};
"use strict";Object.defineProperty(_$addCommentForm_1,"__esModule",{value:!0}),_$addCommentForm_1.addCommentForm=function(){};

var _$loadPosts_4 = {};
"use strict";Object.defineProperty(_$loadPosts_4,"__esModule",{value:!0}),_$loadPosts_4.loadPosts=function(){};

var _$script_5 = {};
"use strict";/* removed: var _$loadPosts_4=require("./index/loadPosts.js"); */;(0,_$display_2.display)(),(0,_$loadComments_3.loadComments)(),(0,_$addCommentForm_1.addCommentForm)(),(0,_$loadPosts_4.loadPosts)();

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlc1xcYnJvd3Nlci1wYWNrLWZsYXRcXF9wcmVsdWRlIiwicHVibGljL2pzL2luZGV4L2Rpc3BsYXkuanMiLCJwdWJsaWMvanMvaW5kZXgvbG9hZENvbW1lbnRzLmpzIiwicHVibGljL2pzL2luZGV4L2FkZENvbW1lbnRGb3JtLmpzIiwicHVibGljL2pzL2luZGV4L2xvYWRQb3N0cy5qcyIsInB1YmxpYy9qcy9zY3JpcHQuanMiLCJub2RlX21vZHVsZXNcXGJyb3dzZXItcGFjay1mbGF0XFxfcG9zdGx1ZGUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs0RkNEQSxVQUFBLENBRUUsQ0FBQSxDQUFFLFFBQUEsQ0FBQSxDQUFVLEtBQUEsQ0FBTSxVQUFBLENBR1osQ0FBQSxDQUFFLE1BQUEsQ0FBQSxDQUFRLFFBQUEsQ0FBUyxlQUFBLENBQUEsR0FDckIsQ0FBQSxDQUFFLGVBQUEsQ0FBQSxDQUFpQixRQUFBLENBQVMsTUFBQSxDQUFBLENBQzVCLENBQUEsQ0FBRSxzQkFBQSxDQUFBLENBQXdCLFFBQUEsQ0FBUyxNQUFBLENBQUEsQ0FBQSxDQUFBLENBSWpDLENBQUEsQ0FBRSxNQUFBLENBQUEsQ0FBUSxRQUFBLENBQVMsWUFBQSxDQUFBLEVBQWlCLENBQUEsQ0FBRSxNQUFBLENBQUEsQ0FBUSxRQUFBLENBQVMsZUFBQSxDQUFBLElBQ3pELENBQUEsQ0FBRSw2Q0FBQSxDQUFBLENBQStDLEdBQUEsQ0FBSSxDQUFFLE9BQUEsQ0FBVyxNQUFBLENBQVEsVUFBQSxDQUFjLE1BQUEsQ0FBQSxDQUFBLENBQ3hGLENBQUEsQ0FBRSxPQUFBLENBQUEsQ0FBUyxRQUFBLENBQVMsVUFBQSxDQUFBLENBQUEsQ0FJdEIsQ0FBQSxDQUFFLFdBQUEsQ0FBQSxDQUFhLEtBQUEsQ0FBTSxTQUFVLENBQUEsQ0FBQSxDQUM3QixDQUFBLENBQUUsY0FBQSxFQUFBLENBQ0YsQ0FBQSxDQUFFLElBQUEsQ0FBQSxDQUFNLElBQUEsQ0FBSyxJQUFBLENB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QUFBLENBQUssS0FBQSxDQUFNLE1BQUEsQ0FBUyxNQUFBLENBQ3BCLElBQUEsQ0FBSyxLQUFBLENBQU0sTUFBQSxDQUFVLElBQUEsQ0FBSyxZQUFBLENBQWUsRUFBQSxDQUFNLElBQUEsQ0FBQSxDQUFBLENBSWpELENBQUEsQ0FBRSw2QkFBQSxDQUFBLENBQStCLEtBQUEsQ0FBTSxVQUFBLENBQ3JDLENBQUEsQ0FBRSxJQUFBLENBQUEsQ0FBTSxPQUFBLENBQVEsY0FBQSxDQUFBLENBQWdCLEdBQUEsQ0FBSSxDQUFFLE9BQUEsQ0FBVyxNQUFBLENBQUEsQ0FBQSxDQUNqRCxDQUFBLENBQUUsSUFBQSxDQUFBLENBQU0sSUFBQSxFQUFBLENBQU8sSUFBQSxDQUFLLGNBQUEsQ0FBQSxDQUFnQixLQUFBLEVBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxDQUFBLENBQUE7OzsyR0MvTjFDLFVBQUEsRUFBQSxDQUFBOzs7aUhDRUEsVUFBQSxFQUFBLENBQUE7OztrR0NGQSxVQUFBLEVBQUEsQ0FBQTs7O2FDQUEsa0VBR0EsQ0FFQSxDQUFBLENBQUEsV0FBQSxDQUFBLE9BQUEsR0FBQSxDQUFBLENBQ0EsQ0FBQSxDQUFBLGdCQUFBLENBQUEsWUFBQSxHQUFBLENBQUEsQ0FDQSxDQUFBLENBQUEsa0JBQUEsQ0FBQSxjQUFBLEdBQUEsQ0FBQSxDQUNBLENBQUEsQ0FBQSxhQUFBLENBQUEsU0FBQSxHQUFBLENBQUE7QUNSQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtcbiIsImZ1bmN0aW9uIGRpc3BsYXkoKSB7XHJcblxyXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAvLy0gRElTUExBWSBOT05FIEFMTCBTRUNUSU9OIFdIRU4gSU4gUEVSU09OQUwgUEFHRVxyXG4gICAgaWYgKCQoJ2JvZHknKS5oYXNDbGFzcygncGVyc29uYWwtcGFnZScpKSB7XHJcbiAgICAgICQoJyNtYWluLXNpZGViYXInKS5hZGRDbGFzcygnb3BlbicpXHJcbiAgICAgICQoJyNtYWluLXNpZGViYXItbW9iaWxlJykuYWRkQ2xhc3MoJ29wZW4nKTtcclxuICAgIH1cclxuXHJcbiAgICAvLy0gRElTUExBWSBOT05FIEFMTCBTRUNUSU9OIFdIRU4gSU4gTE9HSU4sIFJFR0lTVEVSIFBHRVxyXG4gICAgaWYgKCQoJ2JvZHknKS5oYXNDbGFzcygnbG9naW4tcGFnZScpIHx8ICQoJ2JvZHknKS5oYXNDbGFzcygncmVnaXN0ZXItcGFnZScpKSB7XHJcbiAgICAgICQoJ2hlYWRlciwgI21haW4tc2lkZWJhciwgI21haW4tc2lkZWJhci1tb2JpbGUnKS5jc3MoeyBcImRpc3BsYXlcIjogXCJub25lXCIsIFwidHJhbnNpdGlvblwiOiBcIm5vbmVcIiB9KTtcclxuICAgICAgJCgnLm1haW4nKS5hZGRDbGFzcygnbm9ybWFsTVAnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLy0gRFJPUERPV05cclxuICAgICQoJy5kcm9wZG93bicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgJCh0aGlzKS5maW5kKCd1bCcpLnNsaWRlVG9nZ2xlKCk7XHJcbiAgICAgICQodGhpcykuZmluZCgnLmljb24tYXJyb3cnKS50b2dnbGVDbGFzcygncm90YXRlJyk7XHJcbiAgICB9KVxyXG5cclxuICAgICQoJy5kcm9wZG93biA+IHVsJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gTm93IHRoZSBldmVudCB3b24ndCBidWJibGUgdXBcclxuICAgIH0pXHJcblxyXG4gICAgLy8tIFVQTE9BRCBTVEFUVVNcclxuICAgICQoXCIjdGV4dGFyZWEtYWN0aXZpdHlcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAkKCcjdGV4dGFyZWEtYWN0aXZpdHksIC51cGxvYWQtZmlsZWxpc3QsIC5mb3JtLWJvdHRvbScpLmFkZENsYXNzKCdvcGVuJylcclxuICAgICAgJCgnaW5wdXRbdHlwZT1cInJlc2V0XCJdJykuY3NzKHsgXCJkaXNwbGF5XCI6IFwiaW5saW5lLWJsb2NrXCIgfSk7XHJcbiAgICAgICQodGhpcykucGFyZW50KCkuY3NzKHsgXCJtYXJnaW4tYm90dG9tXCI6IFwiMFwiIH0pO1xyXG4gICAgfSlcclxuXHJcbiAgICAkKCcjYnRuLWNhbmNlbCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgJCgnI3RleHRhcmVhLWFjdGl2aXR5LCAudXBsb2FkLWZpbGVsaXN0LCAuZm9ybS1ib3R0b20nKS5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG4gICAgICAkKCcuYWN0aXZpdHktZm9ybSAuZm9ybS1ncm91cCcpLmNzcyh7IFwibWFyZ2luLWJvdHRvbVwiOiBcIjFyZW1cIiB9KTtcclxuICAgICAgJCgnI3RleHRhcmVhLWFjdGl2aXR5JykuY3NzKHsgXCJoZWlnaHRcIjogXCI0NXB4XCIgfSk7XHJcbiAgICAgICQodGhpcykuY3NzKHsgXCJkaXNwbGF5XCI6IFwibm9uZVwiIH0pO1xyXG4gICAgfSlcclxuXHJcbiAgICAvLy0gREFURVRJTUVQSUNLRVJcclxuICAgICQoJyNkYXRldGltZXBpY2tlcicpLmRhdGV0aW1lcGlja2VyKHtcclxuICAgICAgZm9ybWF0OiAnZC5tLlkgSDppJyxcclxuICAgICAgaW5saW5lOiB0cnVlLFxyXG4gICAgICBsYW5nOiAndmknLFxyXG4gICAgICB0aW1lcGlja2VyOiBmYWxzZSxcclxuICAgICAgdGhlbWU6ICdsaWdodCcsXHJcbiAgICAgIG1heERhdGU6IDAsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLy0gUFJFVklFVyBNVUxUSVBMRSBJTUFHRVNcclxuICAgIGZ1bmN0aW9uIHByZXZpZXdJbWFnZXMoKSB7XHJcbiAgICAgIGxldCBwcmV2aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpbGUtdGh1bWInKS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicm93XCIpWzBdO1xyXG5cclxuICAgICAgaWYgKCQoJy51cGxvYWQtZmlsZScpLmNzcygnZGlzcGxheScpID09ICdub25lJykge1xyXG4gICAgICAgICQoJy51cGxvYWQtZmlsZScpLmNzcygnZGlzcGxheScsICdibG9jaycpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLmZpbGVzKSB7XHJcbiAgICAgICAgW10uZm9yRWFjaC5jYWxsKHRoaXMuZmlsZXMsIHJlYWRBbmRQcmV2aWV3KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gcmVhZEFuZFByZXZpZXcoZmlsZSkge1xyXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBgZmlsZS5uYW1lYCBtYXRjaGVzIG91ciBleHRlbnNpb25zIGNyaXRlcmlhXHJcbiAgICAgICAgaWYgKCEvXFwuKGpwZT9nfHBuZ3xnaWYpJC9pLnRlc3QoZmlsZS5uYW1lKSkge1xyXG4gICAgICAgICAgcmV0dXJuIGFsZXJ0KGZpbGUubmFtZSArIFwiIGlzIG5vdCBhbiBpbWFnZVwiKTtcclxuICAgICAgICB9IC8vIGVsc2UuLi5cclxuXHJcbiAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcblxyXG4gICAgICAgIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBsZXQgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgIGltYWdlLmhlaWdodCA9IDEwMDtcclxuICAgICAgICAgIGltYWdlLnRpdGxlID0gZmlsZS5uYW1lO1xyXG4gICAgICAgICAgaW1hZ2Uuc3JjID0gdGhpcy5yZXN1bHQ7XHJcblxyXG4gICAgICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ2lubmVyLWltYWdlJylcclxuICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBcIjxpbWcgaGVpZ2h0PSdcIiArIGltYWdlLmhlaWdodCArIFwiJyB0aXRsZT0nXCIgKyBpbWFnZS50aXRsZSArIFwiJyBzcmM9J1wiICsgaW1hZ2Uuc3JjICsgXCInPlwiXHJcblxyXG4gICAgICAgICAgcHJldmlldy5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGxldCBwcmV2aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpbGVzJyk7XHJcbiAgICBpZiAocHJldmlldykge1xyXG4gICAgICBwcmV2aWV3LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgcHJldmlld0ltYWdlcylcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBwcmV2aWV3ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYXRlIGxpZ2h0Ym94IFxyXG4gICAgICovXHJcbiAgICBjb25zdCBpbWFnZUxpZ2h0Ym94ID0gR0xpZ2h0Ym94KHtcclxuICAgICAgc2VsZWN0b3I6ICcuaW1hZ2UtbGlnaHRib3gnLFxyXG4gICAgICBvcGVuRWZmZWN0OiAnem9vbScsXHJcbiAgICAgIGNsb3NlRWZmZWN0OiAnZmFkZSdcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhdGUgaXNvdG9wZVxyXG4gICAgICovXHJcbiAgICBjb25zdCBpc290b3BlID0gJCgnLmlzb3RvcGUtY29udGFpbmVyJykuaXNvdG9wZSh7XHJcbiAgICAgIGl0ZW1TZWxlY3RvcjogJy5pc290b3BlLWl0ZW0nLFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8tIENIQU5HRSBOQVZJR0FUSU9OLVNJREVCQVJcclxuICAgICQoJyNuYXZpZ2F0aW9uLW1lbnUnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICgkKCcjbWFpbi1zaWRlYmFyJykuaGFzQ2xhc3MoJ29wZW4nKSkge1xyXG4gICAgICAgICQoJ2hlYWRlciwgbWFpbicpLmFkZENsYXNzKCdjbG9zZURpdicpO1xyXG4gICAgICAgICQoJyNtYWluLXNpZGViYXIsIGJvZHknKS5yZW1vdmVDbGFzcygnb3BlbicpXHJcbiAgICAgICAgJCgnI21haW4tc2lkZWJhci1tb2JpbGUnKS5hZGRDbGFzcygnb3BlbicpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgICQoJy5vdmVybGF5LCBib2R5LCAjbWFpbi1zaWRlYmFyJykuYWRkQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICAkKCcjbWFpbi1zaWRlYmFyLW1vYmlsZScpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgJCgnaGVhZGVyLCBtYWluJykucmVtb3ZlQ2xhc3MoJ2Nsb3NlRGl2Jyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE5lZWQgdGltZSB0byByZWFjdGl2ZSBpc290b3BlXHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlzb3RvcGUuaXNvdG9wZSgpXHJcbiAgICAgIH0sIDUwMCk7XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIEV2ZXJ5IHRpbWUgd2UgcmVzaXplIGJyb3dzZXIsIGl0IHdpbGwgcmVhY3RpdmUgdG8gYXJyYW5nZSBpbWFnZSBpbiBwb3N0XHJcbiAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaXNvdG9wZS5pc290b3BlKClcclxuICAgICAgfSwgNTAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vLSBGSVhFRCBCVUcgRk9SIE5BVklHQVRJT05cclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDk5Mikge1xyXG4gICAgICAkKCcjbWFpbi1zaWRlYmFyJykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuICAgIH1cclxuXHJcbiAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpID49IDk5Mikge1xyXG4gICAgICAgICQoJyNtYWluLXNpZGViYXInKS5hZGRDbGFzcygnb3BlbicpO1xyXG4gICAgICAgICQoJ2hlYWRlciwgbWFpbicpLnJlbW92ZUNsYXNzKCdjbG9zZURpdicpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoJyNtYWluLXNpZGViYXIsIC5vdmVybGF5LCBib2R5JykucmVtb3ZlQ2xhc3MoJ29wZW4nKVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcjaGlkZS1zaWRlYmFyLW1vYmlsZScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKCQoJyNtYWluLXNpZGViYXInKS5oYXNDbGFzcygnb3BlbicpKSB7XHJcbiAgICAgICAgJCgnI21haW4tc2lkZWJhciwgLm92ZXJsYXksIGJvZHknKS5yZW1vdmVDbGFzcygnb3BlbicpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCgnI21haW4tc2lkZWJhcicpLmFkZENsYXNzKCdvcGVuJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5vdmVybGF5JykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoJCgnI21haW4tc2lkZWJhcicpLmhhc0NsYXNzKCdvcGVuJykpIHtcclxuICAgICAgICAkKCcjbWFpbi1zaWRlYmFyLCAub3ZlcmxheSwgYm9keScpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vLSBUT0dHTEUgRE9UU1xyXG4gICAgJCgnLmRvdHMnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICgkKHRoaXMpLm5leHQoJ3VsJykuaGFzQ2xhc3MoJ29wZW4nKSkge1xyXG4gICAgICAgICQodGhpcykubmV4dCgndWwnKS5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG4gICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ3RvZ2dsZS1iZy1jb2xvcicpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQodGhpcykubmV4dCgndWwnKS5hZGRDbGFzcygnb3BlbicpXHJcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygndG9nZ2xlLWJnLWNvbG9yJyk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgLy8tIENMSUNLIE9VVFNJREUgQU5EIENMT1NFIEFDVElPTiBNRU5VXHJcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9ICQoJy5kb3RzLWljb24nKVxyXG5cclxuICAgICAgaWYgKCghY29udGFpbmVyLmlzKGUudGFyZ2V0KSAmJiBjb250YWluZXIuaGFzKGUudGFyZ2V0KS5sZW5ndGggPT09IDApIHx8ICQoZS50YXJnZXQpLmhhc0NsYXNzKCdkb3RzJykpIHtcclxuICAgICAgICAkKCcuZG90cy1pY29uID4gLmFjdGlvbnMnKS5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG4gICAgICAgICQoJy5kb3RzLWljb24gPiAuZG90cycpLnJlbW92ZUNsYXNzKCd0b2dnbGUtYmctY29sb3InKTtcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICAvLy0gT1BFTiBDT01NRU5UIFNFQ1RJT05cclxuICAgICQoJy5idG4tY29tbWVudC1wb3N0LCAudG90YWwtY29tbWVudCcpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuY29tbWVudC1hcmVhJykuZmluZCgnLmJ0bi13cmFwcGVyLCAuY29tbWVudHMsID4gLnlvdXItcmVwbHknKS50b2dnbGVDbGFzcygnaGlkZURpdicpO1xyXG4gICAgfSlcclxuXHJcbiAgICAvLy0gUkVQTFkgQ09NTUVOVFNcclxuICAgICQoJy55b3VyLXJlcGx5IHRleHRhcmVhJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAkKHRoaXMpLmtleXVwKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykudmFsKCkudHJpbSgpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleUNvZGUgPT09IDEzKSB7XHJcbiAgICAgICAgICAgICQodGhpcykuY2xvc2VzdChcImZvcm1cIikuc3VibWl0KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAkKHRoaXMpLm5leHQoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkKHRoaXMpLm5leHQoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pXHJcblxyXG4gICAgLy8tIEJUTiBSRVBMWVxyXG4gICAgJCgnLmJ0bi1yZXBseScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuYWNvbW1lbnQnKS5maW5kKCc+IC5kLWZsZXggPiAueW91ci1yZXBseS5zdWInKS50b2dnbGVDbGFzcygnY2xvc2VEaXYnKTtcclxuICAgIH0pXHJcblxyXG4gICAgLy8tIE1BS0UgVEVYVEFSRSBOT1QgT1ZFUkZMT1c6IEFVVE8gQU5EIERJU0FQUEVBUiBTQ1JPTExCQVJcclxuICAgICQoXCJ0ZXh0YXJlYVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcIm92ZXJmbG93LXk6aGlkZGVuOyBoZWlnaHQ6IDQ1cHg7XCIpO1xyXG4gICAgfSkub24oXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHRoaXMuc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCI7XHJcbiAgICAgIHRoaXMuc3R5bGUuaGVpZ2h0ID0gKHRoaXMuc2Nyb2xsSGVpZ2h0IC0gMTcpICsgXCJweFwiO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8tIERJU1BMQVk6IE5PTkUgQU5EIERFTEVURSBJTUFHRSBQUkVWSUVXXHJcbiAgICAkKCcuYWN0aXZpdHktZm9ybSAuZmlsZS1hY3Rpb24nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQodGhpcykuY2xvc2VzdCgnLnVwbG9hZC1maWxlJykuY3NzKHsgXCJkaXNwbGF5XCI6IFwibm9uZVwiIH0pO1xyXG4gICAgICAkKHRoaXMpLnByZXYoKS5maW5kKCcuaW5uZXItaW1hZ2UnKS5lbXB0eSgpO1xyXG4gICAgfSlcclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQgeyBkaXNwbGF5IH07IiwiZnVuY3Rpb24gbG9hZENvbW1lbnRzKCl7XHJcbiAgICAvLyAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG4gICAgLy8gICAgIC8vLSBGRVRDSCBBTEwgQ09NTUVOVFNcclxuICAgIC8vICAgICBmZXRjaCgnL2NvbW1lbnRzJywge1xyXG4gICAgLy8gICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgLy8gICAgIH0pXHJcbiAgICAvLyAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgLy8gICAgIC50aGVuKGpzb24gPT4ge1xyXG4gICAgLy8gICAgICAgICBsZXQgY29tbWVudHMgPSAnJ1xyXG4gICAgLy8gICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGpzb24uY29tbWVudHNMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAvLyAgICAgICAgICAgICBjb21tZW50cyArPSBqc29uLmNvbW1lbnRzTGlzdFtpXS51c2VybmFtZSArIFwiOiBcIiArIGpzb24uY29tbWVudHNMaXN0W2ldLmNvbW1lbnQgKyBcIjwvYnI+XCJcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAkKCcjZGVtbycpLmh0bWwoY29tbWVudHMpXHJcbiAgICAvLyAgICAgfSlcclxuICAgIC8vICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgIC8vICAgICAgICAgaWYoZXJyKXtcclxuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH0pXHJcbiAgICAvLyB9KVxyXG59XHJcblxyXG5leHBvcnQge2xvYWRDb21tZW50c307IiwiLy8gaW1wb3J0IHtsb2FkQ29tbWVudHN9IGZyb20gJy4vbG9hZENvbW1lbnRzJ1xyXG5cclxuZnVuY3Rpb24gYWRkQ29tbWVudEZvcm0oKXtcclxuICAgIC8vICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7ICAgXHJcbiAgICAvLyAgICAgLy8tIEFkZCBjb21tZW50IGZvcm1cclxuICAgIC8vICAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Bvc3QtY29tbWVudC1mb3JtJyk7XHJcbiAgICAvLyAgICAgaWYoZm9ybSl7XHJcbiAgICAvLyAgICAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGUpID0+e1xyXG4gICAgLy8gICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgLy8gICAgICAgICAgICAgbGV0IHVzZXJuYW1lID0gJCgnI3VzZXJuYW1lJykudmFsKCk7XHJcbiAgICAvLyAgICAgICAgICAgICBsZXQgY29tbWVudCA9ICQoJyNjb21tZW50U2VjdGlvbicpLnZhbCgpO1xyXG5cclxuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXJuYW1lLCBjb21tZW50U2VjdGlvbik7XHJcblxyXG4gICAgLy8gICAgICAgICAgICAgLy8tIElOU0VSVCBBIENPTU1FTlRcclxuICAgIC8vICAgICAgICAgICAgIGZldGNoKCcvY29tbWVudHMvaW5zZXJ0Jywge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgLy8gICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHt1c2VybmFtZSwgY29tbWVudH0pLFxyXG4gICAgLy8gICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICB9KVxyXG4gICAgLy8gICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgLy8gICAgICAgICAgICAgLnRoZW4oanNvbiA9PiB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgbG9hZENvbW1lbnRzKCk7XHJcbiAgICAvLyAgICAgICAgICAgICB9KSAgXHJcbiAgICAvLyAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgIC8vICAgICAgICAgICAgICAgICBpZihlcnIpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgfSlcclxuICAgIC8vICAgICAgICAgfSlcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9KVxyXG59XHJcblxyXG5leHBvcnQge2FkZENvbW1lbnRGb3JtfTsiLCJmdW5jdGlvbiBsb2FkUG9zdHMoKXtcclxuICAgIC8vIGZ1bmN0aW9uIGxvYWRBbGxQb3N0cyhzdGFydCwgbGltaXQpe1xyXG4gICAgLy8gICAgIC8vLSBGRVRDSCBBTEwgUE9TVFNcclxuICAgIC8vICAgICBmZXRjaCgnL3Bvc3RzJywge1xyXG4gICAgLy8gICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgIC8vICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe3N0YXJ0LCBsaW1pdH0pLFxyXG4gICAgLy8gICAgICAgICBoZWFkZXJzOiB7IFxyXG4gICAgLy8gICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgIC8vICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH0pXHJcbiAgICAvLyAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgLy8gICAgIC50aGVuKGpzb24gPT4ge1xyXG4gICAgLy8gICAgICAgICBpZihqc29uLnBvc3RzTGlzdCl7XHJcbiAgICAvLyAgICAgICAgICAgICBsZXQgcG9zdHMgPSAnJ1xyXG4gICAgLy8gICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqc29uLnBvc3RzTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHBvc3RzICs9ICc8ZGl2IGNsYXNzPVwiaXRlbVwiPic7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgcG9zdHMgKz0ganNvbi5wb3N0c0xpc3RbaV0ucG9zdF90aXRsZSArIFwiIFwiICsganNvbi5wb3N0c0xpc3RbaV0ucG9zdF9hdXRob3IgKyBcIiBcIiArIGpzb24ucG9zdHNMaXN0W2ldLnBvc3RfZGVzY3JpcHRpb24gKyBcIjwvYnI+XCI7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgcG9zdHMgKz0gJzwvZGl2Pic7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgIC8vICAgICAgICAgICAgICQoJyNwb3N0MScpLmFwcGVuZChwb3N0cylcclxuICAgIFxyXG4gICAgLy8gICAgICAgICAgICAgaWYoanNvbi5wb3N0c0xpc3QgIT0gJycpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICQoJy5idG4tbG9hZC1tb3JlJykuYWRkQ2xhc3MoJ2J0bi1sb2FkaW5nJyk7XHJcbiAgICAvLyAgICAgICAgICAgICB9ZWxzZXtcclxuICAgIC8vICAgICAgICAgICAgICAgICAkKCcuYnRuLWxvYWQtbW9yZScpLnJlbW92ZUNsYXNzKCdidG4tbG9hZGluZycpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICQoJy5idG4tbG9hZC1tb3JlIC5idG4tdGV4dCcpLnRleHQoJ0tow7RuZyBjw7JuIHRpbiBuw6BvIG3hu5tpJyk7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcblxyXG4gICAgLy8gICAgICAgICB9ZWxzZXtcclxuICAgIC8vICAgICAgICAgICAgIGpzb24ucG9zdHNMaXN0ID0gJydcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH0pXHJcbiAgICAvLyAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAvLyAgICAgICAgIGlmKGVycil7XHJcbiAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9KVxyXG4gICAgLy8gfVxyXG5cclxuXHJcbiAgICAvLyAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG4gICAgLy8gICAgIGlmKCQoJ2JvZHknKS5oYXNDbGFzcygnaG9tZS1wYWdlJykpe1xyXG4gICAgLy8gICAgICAgICBsZXQgc3RhcnQgPSAwO1xyXG4gICAgLy8gICAgICAgICBsZXQgbGltaXQgPSAzO1xyXG4gICAgLy8gICAgICAgICBsZXQgc3RvcCA9IGZhbHNlO1xyXG4gICAgXHJcbiAgICAvLyAgICAgICAgIGlmKGxvYWRBbGxQb3N0cyhzdGFydCwgbGltaXQpID09ICcnKXtcclxuICAgIC8vICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xyXG4gICAgLy8gICAgICAgICB9ZWxzZXtcclxuICAgIC8vICAgICAgICAgICAgIHN0b3AgPSBmYWxzZVxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICBcclxuICAgIC8vICAgICAgICAgLy8gY29uc29sZS5sb2coXCJhYWFhYWFcIiwgc3RvcCk7XHJcbiAgICBcclxuICAgIC8vICAgICAgICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpe1xyXG4gICAgLy8gICAgICAgICAgICAgbGV0IHBvc2l0aW9uID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgJCh3aW5kb3cpLmhlaWdodCgpIC0gJChcIiNwb3N0c1wiKS5vZmZzZXQoKS50b3A7XHJcbiAgICAvLyAgICAgICAgICAgICBsZXQgcG9zdDFIZWlnaHQgPSAgJChcIiNwb3N0c1wiKS5oZWlnaHQoKTtcclxuICAgIFxyXG4gICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2cocG9zaXRpb24gLCBcIiBcIiwgcG9zdDFIZWlnaHQpO1xyXG4gICAgXHJcbiAgICAvLyAgICAgICAgICAgICBpZihwb3NpdGlvbiA+PSBwb3N0MUhlaWdodCAgJiYgc3RvcCA9PSBmYWxzZSlcclxuICAgIC8vICAgICAgICAgICAgIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICAvLyBhY3Rpb24gPSAnYWN0aXZlJztcclxuICAgIC8vICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2MnKVxyXG4gICAgLy8gICAgICAgICAgICAgICAgIHN0YXJ0ICs9IGxpbWl0O1xyXG4gICAgXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBsb2FkQWxsUG9zdHMoc3RhcnQsIGxpbWl0KTtcclxuICAgIC8vICAgICAgICAgICAgICAgICB9LCAzMDAwKTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgLy8gICAgICAgICB9KTtcclxuICAgIC8vICAgICAgICAgLy8gY29uc29sZS5sb2coYWN0aW9uKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9KVxyXG59XHJcblxyXG5leHBvcnQge2xvYWRQb3N0c307IiwiaW1wb3J0IHtkaXNwbGF5fSBmcm9tICcuL2luZGV4L2Rpc3BsYXkuanMnO1xyXG5pbXBvcnQge2xvYWRDb21tZW50c30gZnJvbSAnLi9pbmRleC9sb2FkQ29tbWVudHMuanMnO1xyXG5pbXBvcnQge2FkZENvbW1lbnRGb3JtfSBmcm9tICcuL2luZGV4L2FkZENvbW1lbnRGb3JtLmpzJztcclxuaW1wb3J0IHtsb2FkUG9zdHN9IGZyb20gJy4vaW5kZXgvbG9hZFBvc3RzLmpzJztcclxuXHJcbmRpc3BsYXkoKTtcclxubG9hZENvbW1lbnRzKCk7XHJcbmFkZENvbW1lbnRGb3JtKCk7XHJcbmxvYWRQb3N0cygpOyIsIlxufSgpKTsiXX0=
